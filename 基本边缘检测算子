边缘检测主要有三个基本步骤：降噪，边缘点检测，边缘定位（连接）。边缘检测通过灰度突变来分割图像，检测灰度变化可以用一阶或二阶导数来完成。对于边缘检测的基本原理以及基本步骤的解释可以参看下图。

………………………………………….

左列图像段是4个斜坡边缘的特写，从上到下噪声从无到有，越来越严重。每幅图像下面是通过图像中心的水平灰度剖面。中间一列是对应左列图像的一阶导数图像和相应的剖面导数图形。

右列图像段是相对应的二阶导数图像及其相应剖面的二阶导数图形。通过图像的观察我们可以得出结论：一阶导数的幅度可以用于检测图像中的边缘点；同样，二阶导数可以用来确定边缘像素位于该边缘暗的一侧还是亮的一侧；二阶导数图像表现出双边缘效应。

图中的例子也很好的说明了导数对噪声的敏感性，二阶导数对于噪声甚至更为敏感。这也符合对于边缘检测的直观理解，边缘检测的对象是图像中的边缘而不在意图像内容的细节，细节在边缘检测中往往表现出噪声特性干扰边缘检测。尽管我们观察的对象是一维水平剖面，但类似的结论适用于二维图像中任何方向的边缘。

上述观察和解释再次印证了边缘检测的基本步骤及其具体内容：降噪、边缘点检测、边缘的定位和连接。边缘点的检测通过灰度突变检测，利用一阶导数和二阶导数来检测相应的变化

为了在一幅图像f的(x，y)位置处寻找边缘的强度和方向，所选用的工具就是梯度∇f，并用向量来定义：



要得到一幅图像的偏导，则要求在图像每个像素位置计算偏导数∂f⁄∂x和∂f⁄∂y。因为我们处理的是离散变量的数字图像，因此要求关于一点邻域上的偏导数的近似。各种不同的边缘检测器算子与目标像素区域的卷积正是对于各种不同偏导数的近似计算的表达。下图展示了三种基本的边缘检测算子。

…………….强迫症的分割线………………………………………………………………..

还可以修改上图中的3×3模板，以便它们沿对角线方向有最大的响应。下图显示了另外两个用于检测对角线边缘的Prewitt和Sobel模板。

……………..强迫症的分割线…………….…………………………………………

下图以Prewitt算子为例，在Matlab中演示该算子在不同条件下边缘检测的性能。

…………………………
…………………………
…………………………

…………………………
…………………………
…………………………

从图中可以观察到不同方向的模板在特定方向上有着较强的响应，而对于其他方向的响应较弱。例如两个对角模板对45°和-45°方向的响应较为明显，但也正如期望的那样，它们对水平边缘和垂直边缘的响应明显弱于水平和垂直模板。

另一方面，可以明显观察到屋顶瓦片、砖块纹理对于图像细节的贡献十分显著。精细的细节在边缘检测中通常是不符合需要的，因为它往往表现为噪声，导数计算会增强这种噪声，从而使得对主要边缘的检测变得更复杂，所以在计算梯度前可以先对图像进行平滑处理。除此之外，边缘检测还可以对梯度图像进行阈值处理，低于设定阈值的像素全部显示为黑色。阈值处理后的图像边缘更少，并且图像中的边缘变得尖锐得多。当我们的目的是突出主要边缘并尽可能维护连接性时，通常平滑处理和阈值处理两者在实践中都会使用。应用了均值滤波和阈值处理的Sobel算子，各个方向（水平垂直、±45°）之和的结果如下图。很明显可以观察到，经过降噪和阈值处理后的边缘检测的结果屋顶瓦片和砖块纹理的细节明显减少了，但是在这些区域仍然存在一些高亮的噪点，而且因为光照的原因有些边缘没能检测出来。

…………………………
…………………………
